;function BuddyFormsModeration(){function r(){var o=jQuery(this).attr("id");if(confirm(buddyformsModeration.il18n.approve)){jQuery.ajax({type:"POST",url:buddyformsModeration.ajax,data:{"action":"buddyforms_moderators_ajax_approve_post","post_id":o,"nonce":buddyformsModeration.nonce},success:function(o){if(isNaN(o)){alert(o)}
else{location.reload()}},error:function(o){alert(o.responseText)}})}
else{return!1};return!1};function d(){var o=jQuery("button.bf-moderation");if(o){var r=o.data("target");if(r){o.attr("disabled","disabled")}}};function t(){var o=jQuery("button.bf-moderation");if(o){var r=o.data("target");if(r){o.removeAttr("disabled")}}};function e([form,event]){BuddyFormsHooks.doAction("bf-moderation:submit:disable");var r=jQuery(form).find("input[name=\"status\"]"),d=jQuery(form).data("submit-clicked");if(r.length>0&&d){r.val(d)};BuddyFormsHooks.doAction("bf-moderation:submit:enable")};function i(o){var r=jQuery(this).data("target"),d=jQuery(this).data("status"),t=jQuery("form#buddyforms_form_"+r);BuddyFormsHooks.doAction("bf-moderation:submit:click",[t,r,d,o])};function o(o){var r=o[0],d=o[2];r.data("submit-clicked",d)};function n(o,r){if(r[0]&&r[1]&&r[2]&&buddyformsGlobal[r[0]]){var d=r[2];if(d&&d.type==="moderators"){return!1}};return o};function a(){jQuery.validator.addMethod("has-moderation",function(o,r,u){var d=fncBuddyForms.getFormSlugFromFormElement(r);if(d&&buddyformsGlobal&&buddyformsGlobal[d]&&buddyformsGlobal[d].js_validation&&buddyformsGlobal[d].js_validation[0]==="disabled"){return!0};var i=buddyformsModeration.il18n.select_moderator,a=!1,n=jQuery(r).attr("name");if(n&&d){var t=fncBuddyForms.getFieldFrom("moderators",d,"type");if(t.validation_error_message){i=t.validation_error_message};a=t&&t["required"]&&t["required"][0]==="required"};if(!a){return!0};var e=(o&&o!=="-1");if(!e){jQuery(r).first().parent().find("label.error").remove();jQuery(r).first().parent().append("<label id='buddyforms_form_"+n+"-error' class='error' style='color:red; font-weight: bold; font-style: normal;'>"+i+"</label>");e=!1};return e},"")};return{onFormActionClick:function(r){return o(r)},init:function(){BuddyFormsHooks.addAction("buddyforms:submit",e,10);BuddyFormsHooks.addAction("bf-moderation:submit:enable",t);BuddyFormsHooks.addAction("bf-moderation:submit:disable",d);jQuery(document.body).on("click",".buddyforms_moderators_approve",r);jQuery(document.body).on("click","button[type=\"submit\"].bf-moderation",i);BuddyFormsHooks.addAction("bf-moderation:submit:click",o);if(jQuery&&jQuery.validator&&fncBuddyForms){a()}}}};var fncBuddyFormsModeration=BuddyFormsModeration();jQuery(document).ready(function(){if(BuddyFormsHooks&&buddyformsGlobal){fncBuddyFormsModeration.init();BuddyFormsHooks.addAction("buddyforms:init",function(){fncBuddyFormsModeration.init()},10)}});